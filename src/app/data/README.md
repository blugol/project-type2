# 📁 데이터 디렉토리 구조

이 디렉토리는 경제 일정 캘린더 앱의 데이터를 관리합니다.

## 📂 디렉토리 구조

```
/src/app/data/
├── types.ts                    # TypeScript 타입 정의
├── mockData.ts                 # 샘플/예시 데이터 (개발용)
├── dataLoader.ts               # JSON 파일 로더 유틸리티
├── economicIndicators.ts       # 경제 지표 데이터
├── uploaded/                   # 실제 운영 데이터 (JSON 파일)
│   ├── events.json            # 경제 일정 데이터 ⬅️ 여기에 데이터 업로드!
│   └── stocks.json            # 주식 종목 데이터 ⬅️ 여기에 데이터 업로드!
└── README.md                   # 이 파일
```

---

## 📋 데이터 파일 형식

### 1️⃣ **일정 데이터** (`uploaded/events.json`)

경제 일정, 휴일, 중요 이벤트 정보를 담고 있습니다.

#### JSON 형식:
```json
[
  {
    "date": "2026-02-02",
    "day": "월요일",
    "schedules": [
      {
        "time": "23:45",
        "currency": "USD",
        "event": "제조업 구매관리자지수 (1월)",
        "value": "51.8"
      }
    ]
  },
  {
    "date": "2026-02-03",
    "day": "화요일",
    "schedules": [
      {
        "time": "00:00",
        "currency": "USD",
        "event": "ISM 제조업구매자지수 (1월)",
        "value": "47.9"
      },
      {
        "time": "08:00",
        "currency": "KRW",
        "event": "한국 소비자물가지수 (YoY) (1월)",
        "value": "2.3%"
      }
    ]
  },
  {
    "date": "2026-02-16",
    "day": "월요일",
    "schedules": [
      {
        "time": "하루 종일",
        "currency": "USD",
        "event": "미국 - 워싱턴 탄생일",
        "value": "휴일"
      }
    ]
  }
]
```

#### 필드 설명:

**최상위 레벨 (날짜별 그룹):**
| 필드 | 타입 | 필수 | 설명 | 예시 |
|------|------|------|------|------|
| `date` | string | ✅ | 날짜 (YYYY-MM-DD 형식) | "2026-02-02" |
| `day` | string | ✅ | 요일 | "월요일" |
| `schedules` | array | ✅ | 해당 날짜의 일정 목록 | [...] |

**schedules 배열 내부:**
| 필드 | 타입 | 필수 | 설명 | 예시 |
|------|------|------|------|------|
| `time` | string | ✅ | 시간 (HH:MM 또는 "하루 종일") | "23:45", "하루 종일" |
| `currency` | string | ✅ | 국가/통화 코드 | "USD", "KRW", "JPY", "CNY" |
| `event` | string | ✅ | 이벤트 제목 | "제조업 구매관리자지수 (1월)" |
| `value` | string | ✅ | 예상값 또는 "휴일" | "51.8", "2.3%", "휴일" |

#### 국가/통화 코드:
- `USD` → 미국 🇺🇸
- `KRW` → 한국 🇰🇷
- `JPY` → 일본 🇯🇵
- `CNY` → 중국 🇨🇳

---

### 2️⃣ **종목 데이터** (`uploaded/stocks.json`)

주식 종목 정보를 담고 있습니다.

#### JSON 형식:
```json
[
  {
    "name": "3S",
    "code": "060310",
    "sector": "측정, 시험, 항해, 제어 및 기타 정밀기기 제조업; 광학기기 제외,반도체 웨이퍼 캐리어"
  },
  {
    "name": "삼성전자",
    "code": "005930",
    "sector": "반도체 제조업"
  }
]
```

#### 필드 설명:
| 필드 | 타입 | 필수 | 설명 | 예시 |
|------|------|------|------|------|
| `name` | string | ✅ | 종목이름 | "삼성전자" |
| `code` | string | ✅ | 종목번호 (6자리) | "005930" |
| `sector` | string | ✅ | 관련재료업황섹터 | "반도체 제조업" |

---

## 🔧 사용 방법

### 데이터 업로드
1. **일정 데이터**: `uploaded/events.json` 파일 수정
2. **종목 데이터**: `uploaded/stocks.json` 파일 수정

### 자동 반영
- JSON 파일을 수정하고 저장하면 애플리케이션이 자동으로 데이터를 로드합니다
- 브라우저 콘솔에서 "✅ 실제 데이터 로드 완료" 메시지를 확인할 수 있습니다

### 코드에서 사용
```typescript
import { loadEventsFromJSON, loadStocksFromJSON } from '@/app/data/dataLoader';

// 일정 데이터 로드
const events = await loadEventsFromJSON();

// 종목 데이터 로드
const stocks = await loadStocksFromJSON();
```

---

## 🎨 자동 카테고리 분류

이벤트 제목에서 키워드를 추출하여 자동으로 카테고리를 분류합니다:

| 키워드 | 카테고리 | 색상 |
|--------|----------|------|
| 물가, CPI, PPI | 물가 | 🔴 빨강 (#EF4444) |
| GDP, 경제성장 | GDP | 🟢 초록 (#10B981) |
| 고용, 실업, 일자리 | 고용 | 🔵 파랑 (#3B82F6) |
| 주택, 부동산 | 부동산 | 🌸 핑크 (#EC4899) |
| 제조업, PMI | 제조업 | 🟣 보라 (#8B5CF6) |
| 무역, 수출, 수입 | 무역 | 🟡 주황 (#F59E0B) |
| 소비, 판매 | 소비 | 🟦 청록 (#14B8A6) |
| 금리, 통화정책 | 금융정책 | 🟢 초록 (#10B981) |
| 원유, 재고 | 원자재 | 🟠 주황 (#F97316) |
| 휴일 | 휴일 | ⚪ 회색 (#6B7280) |

---

## ⚡ 자동 중요도 판단

이벤트의 중요도를 자동으로 분류합니다:

### 🔴 높은 중요도 (High)
GDP, CPI, 비농업 고용, 금리, FOMC, 소비자물가 등

### 🟡 중간 중요도 (Medium)
PMI, 주택, 무역, 실업률 등

### 🟢 낮은 중요도 (Low)
휴일 및 기타 지표

---

## 📌 예시 데이터

개발 및 테스트용 예시 데이터는 `mockData.ts` 파일에서 확인할 수 있습니다.

**실제 운영 시에는 `uploaded/` 폴더의 JSON 파일을 사용하세요!**

---

## 🐛 트러블슈팅

### 데이터가 로드되지 않을 때
1. 브라우저 콘솔(F12)을 열어 에러 메시지 확인
2. JSON 형식이 올바른지 확인 (콤마, 중괄호 등)
3. 파일 경로가 정확한지 확인: `/src/app/data/uploaded/events.json`

### JSON 형식 검증
- [JSONLint](https://jsonlint.com/)에서 JSON 유효성 검사
- VSCode에서 `Ctrl+Shift+P` → "Format Document"로 자동 포맷팅

---

## 📝 추가 개발 계획

- [ ] 관련 종목 자동 연결 기능
- [ ] CSV → JSON 변환 도구
- [ ] 데이터 자동 업데이트 프로그램
- [ ] 한국/미국/일본/중국 경제 뉴스 통합
